{"version":3,"sources":["webpack://ChapterMapComponent/webpack/universalModuleDefinition","webpack://ChapterMapComponent/webpack/bootstrap","webpack://ChapterMapComponent/external {\"root\":\"React\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\"}","webpack://ChapterMapComponent/external {\"root\":\"PropTypes\",\"commonjs\":\"prop-types\",\"commonjs2\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ChapterMapComponent/external {\"root\":\"ReactSimpleMaps\",\"commonjs\":\"@gameworkers/react-simple-maps\",\"commonjs2\":\"@gameworkers/react-simple-maps\",\"amd\":\"@gameworkers/react-simple-maps\"}","webpack://ChapterMapComponent/external {\"root\":\"ReduxTooltip\",\"commonjs\":\"redux-tooltip\",\"commonjs2\":\"redux-tooltip\",\"amd\":\"redux-tooltip\"}","webpack://ChapterMapComponent/external {\"root\":\"Redux\",\"commonjs\":\"redux\",\"commonjs2\":\"redux\",\"amd\":\"redux\"}","webpack://ChapterMapComponent/external {\"root\":\"NextReduxWrapper\",\"commonjs\":\"next-redux-wrapper\",\"commonjs2\":\"next-redux-wrapper\",\"amd\":\"next-redux-wrapper\"}","webpack://ChapterMapComponent/./src/SvgContentElementWrapperWithDefs.js","webpack://ChapterMapComponent/./src/GWUMarker.js","webpack://ChapterMapComponent/./src/tooltipStore.js","webpack://ChapterMapComponent/./src/ChapterMapComponent.js","webpack://ChapterMapComponent/./src/index.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","red","MarkerPath","_ref","fill","stroke","strokeWidth","external_root_React_commonjs_react_commonjs2_react_amd_react_default","a","createElement","SvgContentElementWrapperWithDefs","_ref2","children","forceGrayscale","rest","_objectWithoutPropertiesLoose","Fragment","id","type","values","patternUnits","width","height","style","opacity","x","y","filter","undefined","React","cloneElement","propTypes","PropTypes","element","isRequired","bool","GWUMarker","render","_this$props","props","marker","scale","GWUMarker_objectWithoutPropertiesLoose","react_simple_maps_","_extends","cursor","transform","href","PureComponent","shape","string","coordinates","arrayOf","number","defaultProps","initialState","title","appReducer","state","action","worldDataPromise","smallWorldDataPromise","membersPromise","worldDataPathname","smallWorldDataPathname","membersPathname","countryNameKeys","ChapterMapComponent","_this","_PureComponent","worldData","members","markers","focusedMarker","handleCountryMove","_assertThisInitialized","handleCountryLeave","handleMarkerMove","handleMarkerLeave","handleMarkerClick","handleOutsideMarkerClick","componentDidMount","_this2","fetch","then","res","json","setState","member","isChapter","sort","b","lat","lng","map","location","data","window","addEventListener","componentWillUnmount","removeEventListener","geography","evt","dispatchTooltip","properties","NAME_LONG","hideTooltip","coords","stopPropagation","nativeEvent","stopImmediatePropagation","_marker$data","chapterInfo","content","description","applicationLink","twitter","email","website","indexOf","tooltipClassName","clientX","clientY","pageYOffset","dispatch","actions","show","origin","_this3","hide","Promise","resolve","_this4","centerLat","centerLng","isGeographyIncluded","markerScale","className","zoom","enablePanning","projection","_this$state","loading","_objectSpread","projectionConfig","backgroundColor","src_SvgContentElementWrapperWithDefs","center","disablePanning","geographies","hasMatchingPoint","some","countryString","geographyMatchesCountryString","country","outline","default","hover","pressed","onMouseMove","onMouseLeave","src_GWUMarker","onClick","external_root_ReduxTooltip_commonjs_redux_tooltip_commonjs2_redux_tooltip_amd_redux_tooltip_","withRedux","initState","createStore","combineReducers","tooltip","__REDUX_DEVTOOLS_EXTENSION__","displayName","func"],"mappings":"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","file":"chapter-map-component.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"@gameworkers/react-simple-maps\"), require(\"redux-tooltip\"), require(\"redux\"), require(\"next-redux-wrapper\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\", \"@gameworkers/react-simple-maps\", \"redux-tooltip\", \"redux\", \"next-redux-wrapper\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ChapterMapComponent\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"@gameworkers/react-simple-maps\"), require(\"redux-tooltip\"), require(\"redux\"), require(\"next-redux-wrapper\"));\n\telse\n\t\troot[\"ChapterMapComponent\"] = factory(root[\"React\"], root[\"PropTypes\"], root[\"ReactSimpleMaps\"], root[\"ReduxTooltip\"], root[\"Redux\"], root[\"NextReduxWrapper\"]);\n})((typeof self !== \"undefined\" ? self : this), function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst red = \"#e5261a\";\n\nfunction MarkerPath({ fill, stroke, strokeWidth }) {\n  return (\n    <path\n      fill={fill}\n      stroke={stroke}\n      strokeWidth={strokeWidth}\n      d={`\n        M-78.736,56.784c-89.734,0-162.725,73.003-162.725,162.732c0,36.571,25.572,94.673,76.01,172.686\n        c36.714,56.783,73.96,104.287,74.33,104.75c2.985,3.807,7.553,6.018,12.379,6.018c4.829,0,9.396-2.211,12.381-6.018\n        c0.37-0.463,37.622-47.971,74.33-104.75c50.438-78.013,76.012-136.121,76.012-172.686\n        C83.993,129.787,10.999,56.784-78.736,56.784z\n        M-140.173,241.81c-3.481,2.971-7.626,5.503-12.439,7.6\n        c-4.804,2.094-10.303,3.146-16.504,3.146c-5.293,0-10.114-0.871-14.47-2.616c-4.357-1.741-8.101-4.16-11.226-7.259\n        c-3.136-3.098-5.571-6.775-7.311-11.037c-1.742-4.259-2.616-8.903-2.616-13.936v-0.197c0-4.838,0.89-9.372,2.662-13.602\n        c1.772-4.222,4.248-7.937,7.405-11.131c3.16-3.193,6.909-5.712,11.234-7.55c4.317-1.839,9.061-2.758,14.228-2.758\n        c3.033,0,5.791,0.208,8.28,0.631c2.481,0.417,4.787,1.016,6.916,1.788c2.136,0.776,4.128,1.745,6.002,2.907\n        c1.876,1.158,3.682,2.481,5.421,3.966l-9.391,11.327c-1.291-1.098-2.583-2.067-3.868-2.906c-1.293-0.834-2.63-1.548-4.018-2.126\n        c-1.395-0.583-2.891-1.033-4.507-1.356c-1.614-0.322-3.387-0.484-5.316-0.484c-2.717,0-5.247,0.565-7.603,1.697\n        c-2.354,1.13-4.419,2.651-6.2,4.562c-1.771,1.906-3.158,4.139-4.158,6.692c-1.001,2.555-1.498,5.289-1.498,8.2v0.193\n        c0,3.104,0.497,5.968,1.498,8.588c1,2.617,2.418,4.898,4.263,6.838c1.835,1.941,4,3.44,6.481,4.513\n        c2.481,1.068,5.247,1.598,8.28,1.598c5.545,0,10.226-1.366,14.03-4.096v-9.749h-14.999v-12.872h29.423V241.81z\n        M-51.398,251.879\n        h-12.977l-15.29-44.337l-15.299,44.337h-12.974l-23.13-68.245h15.969l14.038,45.883l15.195-46.077h12.779l15.195,46.077\n        l14.039-45.883h15.58L-51.398,251.879z\n        M38.676,235.323c-1.395,3.81-3.381,6.988-5.956,9.536\n        c-2.585,2.553-5.712,4.455-9.39,5.711c-3.68,1.26-7.777,1.887-12.298,1.887c-9.099,0-16.262-2.517-21.49-7.551\n        c-5.224-5.033-7.839-12.55-7.839-22.554v-38.718h14.905v38.333c0,5.549,1.291,9.729,3.876,12.532\n        c2.575,2.809,6.161,4.217,10.744,4.217c4.579,0,8.161-1.359,10.746-4.07c2.575-2.71,3.868-6.775,3.868-12.194v-38.817h14.912\n        v38.234C40.755,227.032,40.061,231.518,38.676,235.323z\n      `}\n    />\n  );\n}\n\nfunction SvgContentElementWrapperWithDefs({\n  children,\n  forceGrayscale,\n  ...rest\n}) {\n  return (\n    <React.Fragment>\n      <defs>\n        <filter id=\"grayscale\">\n          <feColorMatrix type=\"saturate\" values=\"0\" />\n        </filter>\n        <pattern\n          id=\"redpattern\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"8\"\n          height=\"8\"\n        >\n          <rect style={{ opacity: 0.7 }} width=\"8\" height=\"8\" fill={red} />\n        </pattern>\n        <pattern\n          id=\"lessredpattern\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"8\"\n          height=\"8\"\n        >\n          <rect style={{ opacity: 0.3 }} width=\"8\" height=\"8\" fill={red} />\n        </pattern>\n        <pattern\n          id=\"hardlyredpattern\"\n          patternUnits=\"userSpaceOnUse\"\n          width=\"8\"\n          height=\"8\"\n        >\n          <rect style={{ opacity: 0.04 }} width=\"8\" height=\"8\" fill={red} />\n        </pattern>\n        <g id=\"mapmarker\">\n          <rect\n            x=\"-218.979\"\n            y=\"163.179\"\n            fill=\"#fff\"\n            width=\"279.333\"\n            height=\"106.667\"\n          />\n          <g>\n            <MarkerPath stroke=\"#fff\" strokeWidth={20} />\n            <MarkerPath />\n          </g>\n        </g>\n      </defs>\n      <g filter={forceGrayscale ? \"url(#grayscale)\" : undefined}>\n        {React.cloneElement(children, rest)}\n      </g>\n    </React.Fragment>\n  );\n}\n\nSvgContentElementWrapperWithDefs.propTypes = {\n  children: PropTypes.element.isRequired,\n  forceGrayscale: PropTypes.bool\n};\n\nexport default SvgContentElementWrapperWithDefs;\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Marker } from \"@gameworkers/react-simple-maps\";\n\nclass GWUMarker extends PureComponent {\n  render() {\n    const { marker, scale, ...rest } = this.props;\n    return (\n      <Marker key={marker.name} marker={marker} {...rest}>\n        <g\n          style={{ cursor: \"pointer\" }}\n          transform={`scale(${scale}), translate(79, -528)`}\n        >\n          <use href=\"#mapmarker\" />\n        </g>\n      </Marker>\n    );\n  }\n}\n\nGWUMarker.propTypes = {\n  marker: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    // [lng, lat]\n    coordinates: PropTypes.arrayOf(PropTypes.number).isRequired\n  }).isRequired,\n  scale: PropTypes.number.isRequired\n};\n\nGWUMarker.defaultProps = {\n  scale: 0.09\n};\n\nexport default GWUMarker;\n","import { createStore, combineReducers } from \"redux\";\n\nimport { reducer as tooltip } from \"redux-tooltip\";\n\nconst initialState = {\n  title: \"With Redux Tooltip\"\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    default:\n      return state;\n  }\n};\n\nexport const initStore = (initState = { appReducer: initialState }) => {\n  return createStore(\n    combineReducers({ appReducer, tooltip }),\n    initState,\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  );\n};\n","import React, { PureComponent } from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  ComposableMap,\n  ZoomableGroup,\n  Geographies,\n  Geography,\n  Markers\n} from \"@gameworkers/react-simple-maps\";\nimport withRedux from \"next-redux-wrapper\";\nimport { Tooltip, actions } from \"redux-tooltip\";\n\nReact.PropTypes = PropTypes; // for redux-tooltip compatibility\n\nconst wrapperStyles = {\n  width: \"100%\",\n  maxWidth: 980,\n  margin: \"0 auto\",\n  fontFamily: \"Roboto, sans-serif\"\n};\n\nimport SvgContentElementWrapperWithDefs from \"./SvgContentElementWrapperWithDefs\";\nimport GWUMarker from \"./GWUMarker\";\nimport { initStore } from \"./tooltipStore\";\n\nconst worldDataPathname =\n  \"https://gameworkers.github.io/data/third_party/world-50m.json\";\nconst smallWorldDataPathname =\n  \"https://gameworkers.github.io/data/third_party/world-110m.json\";\nconst membersPathname = \"https://gameworkers.github.io/data/members.json\";\nlet worldDataPromise;\nlet smallWorldDataPromise;\nlet membersPromise;\nfunction getWorldData() {\n  return (worldDataPromise =\n    worldDataPromise || fetch(worldDataPathname).then(res => res.json()));\n}\nfunction getSmallWorldData() {\n  return (smallWorldDataPromise =\n    smallWorldDataPromise ||\n    fetch(smallWorldDataPathname).then(res => res.json()));\n}\nfunction getMembers() {\n  return (membersPromise =\n    membersPromise || fetch(membersPathname).then(res => res.json()));\n}\n\nconst countryNameKeys = [\n  \"ABBREV\",\n  \"CONTINENT\",\n  \"FORMAL_EN\",\n  \"ISO_A2\",\n  \"ISO_A3\",\n  \"NAME\",\n  \"NAME_LONG\"\n];\nfunction geographyMatchesCountryString(geography, countryString) {\n  return countryNameKeys.some(key => {\n    return geography.properties[key] === countryString;\n  });\n}\n\nclass ChapterMapComponent extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      worldData: null,\n      members: null,\n      markers: null\n    };\n    this.focusedMarker = null;\n    this.handleCountryMove = this.handleCountryMove.bind(this);\n    this.handleCountryLeave = this.handleCountryLeave.bind(this);\n    this.handleMarkerMove = this.handleMarkerMove.bind(this);\n    this.handleMarkerLeave = this.handleMarkerLeave.bind(this);\n    this.handleMarkerClick = this.handleMarkerClick.bind(this);\n    this.handleOutsideMarkerClick = this.handleOutsideMarkerClick.bind(this);\n  }\n\n  componentDidMount() {\n    getWorldData().then(worldData => {\n      this.setState({\n        worldData\n      });\n    });\n    getSmallWorldData().then(worldData => {\n      this.setState(state => (state.worldData ? null : { worldData }));\n    });\n    getMembers().then(members => {\n      this.setState({\n        members,\n        markers: members\n          .filter(member => member.isChapter)\n          .sort((a, b) => {\n            // we want to make sure markers lower on the map are painted in front\n            if (a.lat < b.lat) {\n              return 1;\n            }\n            if (a.lat > b.lat) {\n              return -1;\n            }\n            if (a.lng < b.lng) {\n              return 1;\n            }\n            if (a.lng > b.lng) {\n              return -1;\n            }\n            return 0;\n          })\n          .map(member => {\n            return {\n              name: member.location,\n              coordinates: [member.lng, member.lat],\n              data: member\n            };\n          })\n      });\n    });\n\n    window.addEventListener(\"click\", this.handleOutsideMarkerClick);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"click\", this.handleOutsideMarkerClick);\n  }\n\n  handleCountryMove(geography, evt) {\n    if (this.focusedMarker) {\n      return;\n    }\n    this.dispatchTooltip(evt, geography.properties.NAME_LONG);\n  }\n\n  handleCountryLeave() {\n    if (this.focusedMarker) {\n      return;\n    }\n    this.hideTooltip();\n  }\n\n  handleMarkerMove(marker, evt) {\n    if (this.focusedMarker) {\n      return;\n    }\n    this.dispatchTooltip(evt, marker.name);\n  }\n\n  handleMarkerLeave() {\n    if (this.focusedMarker) {\n      return;\n    }\n    this.hideTooltip();\n  }\n\n  handleMarkerClick(marker, coords, evt) {\n    evt.stopPropagation();\n    evt.nativeEvent.stopImmediatePropagation();\n    this.focusedMarker = this.focusedMarker === marker ? null : marker;\n    if (this.focusedMarker) {\n      const {\n        data: { location, chapterInfo }\n      } = marker;\n      let content = location;\n      if (chapterInfo) {\n        const {\n          description,\n          applicationLink,\n          twitter,\n          email,\n          website\n        } = chapterInfo;\n        content = `<h3>${location}</h3>`;\n        if (description) {\n          content += `<p>${description}</p>`;\n        }\n        if (twitter || email || website) {\n          content += \"<p>\";\n        }\n        if (twitter) {\n          content += `\n            <strong>Twitter:</strong>\n            <a href=\"https://twitter.com/${twitter}\">\n              @${twitter}\n            </a>\n            <br />\n          `;\n        }\n        if (email) {\n          content += `\n            <strong>Email:</strong>\n            <a href=\"mailto:${email}\">\n              ${email}\n            </a>\n            <br />\n          `;\n        }\n        if (website) {\n          content += `\n            <strong>Website:</strong>\n            <a href=\"${\n              website.indexOf(\"http\") === 0 ? \"\" : \"http://\"\n            }${website}\">\n              ${website}\n            </a>\n            <br />\n          `;\n        }\n        if (twitter || email || website) {\n          content += \"</p>\";\n        }\n        if (applicationLink) {\n          content += `\n            <p>\n              <a href=\"${applicationLink}\">\n                Apply here!\n              </a>\n            </p>\n          `;\n        }\n        content = `<div class=\"${\n          this.props.tooltipClassName\n        }\">${content}</div>`;\n      }\n      this.dispatchTooltip(evt, content);\n    } else {\n      this.hideTooltip();\n    }\n  }\n\n  handleOutsideMarkerClick() {\n    this.hideTooltip();\n  }\n\n  dispatchTooltip(evt, content) {\n    const x = evt.clientX;\n    const y = evt.clientY + window.pageYOffset;\n    this.props.dispatch(\n      actions.show({\n        origin: { x, y },\n        content\n      })\n    );\n  }\n\n  hideTooltip() {\n    this.props.dispatch(actions.hide());\n    Promise.resolve().then(() => {\n      this.focusedMarker = null;\n    });\n  }\n\n  render() {\n    const {\n      centerLat,\n      centerLng,\n      width,\n      height,\n      scale,\n      isGeographyIncluded,\n      markerScale,\n      style,\n      className,\n      forceGrayscale,\n      zoom,\n      enablePanning,\n      projection\n    } = this.props;\n    const { worldData, members, markers } = this.state;\n    const loading = !(worldData && members && markers);\n    return (\n      <div className={className} style={{ ...(style || {}), width, height }}>\n        {loading && <div>Loading...</div>}\n        {!loading && (\n          <React.Fragment>\n            <ComposableMap\n              projection={projection}\n              projectionConfig={{ scale: scale }}\n              width={width}\n              height={height}\n              style={{ width: \"100%\", height: \"auto\", backgroundColor: \"#fff\" }}\n            >\n              <SvgContentElementWrapperWithDefs forceGrayscale={forceGrayscale}>\n                <ZoomableGroup\n                  center={[centerLng, centerLat]}\n                  disablePanning={!enablePanning}\n                  zoom={zoom}\n                >\n                  <Geographies geography={this.state.worldData}>\n                    {(geographies, projection) =>\n                      geographies\n                        .filter(isGeographyIncluded)\n                        .map((geography, i) => {\n                          const hasMatchingPoint = members.some(member => {\n                            return geographyMatchesCountryString(\n                              geography,\n                              member.country\n                            );\n                          });\n                          const style = {\n                            fill: hasMatchingPoint\n                              ? \"url(#redpattern)\"\n                              : \"url(#hardlyredpattern)\",\n                            stroke: \"#222\",\n                            strokeWidth: 0.5 / zoom,\n                            outline: \"none\"\n                          };\n                          return (\n                            <Geography\n                              key={i}\n                              geography={geography}\n                              projection={projection}\n                              style={{\n                                default: style,\n                                hover: style,\n                                pressed: style\n                              }}\n                              onMouseMove={\n                                hasMatchingPoint && this.handleCountryMove\n                              }\n                              onMouseLeave={\n                                hasMatchingPoint && this.handleCountryLeave\n                              }\n                            />\n                          );\n                        })\n                    }\n                  </Geographies>\n                  <Markers>\n                    {markers.map(marker => {\n                      return (\n                        <GWUMarker\n                          key={marker.name}\n                          marker={marker}\n                          scale={markerScale}\n                          onClick={this.handleMarkerClick}\n                          onMouseMove={this.handleMarkerMove}\n                          onMouseLeave={this.handleMarkerLeave}\n                        />\n                      );\n                    })}\n                  </Markers>\n                </ZoomableGroup>\n              </SvgContentElementWrapperWithDefs>\n            </ComposableMap>\n            <Tooltip />\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\n\nChapterMapComponent = withRedux(initStore)(ChapterMapComponent);\nChapterMapComponent.displayName = \"ChapterMapComponent\";\n\nChapterMapComponent.propTypes = {\n  centerLat: PropTypes.number.isRequired,\n  centerLng: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  scale: PropTypes.number.isRequired,\n  isGeographyIncluded: PropTypes.func.isRequired,\n  markerScale: PropTypes.number.isRequired,\n  forceGrayscale: PropTypes.bool.isRequired,\n  tooltipClassName: PropTypes.string.isRequired,\n  zoom: PropTypes.number.isRequired,\n  enablePanning: PropTypes.bool.isRequired,\n  projection: PropTypes.string\n};\n\nChapterMapComponent.defaultProps = {\n  centerLat: 0,\n  centerLng: 0,\n  width: 980,\n  height: 551,\n  scale: 205,\n  isGeographyIncluded: () => true,\n  markerScale: 0.09,\n  forceGrayscale: false,\n  tooltipClassName: \"gwu_chapter_tooltip\",\n  zoom: 1,\n  enablePanning: false,\n  projection: \"times\"\n};\n\nexport default ChapterMapComponent;\n","import ChapterMapComponent from \"./ChapterMapComponent\";\n\nexport default ChapterMapComponent;\n"],"sourceRoot":""}